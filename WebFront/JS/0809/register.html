<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>加入极光</title>
    <!--<link rel="stylesheet" href="header.css">-->
    <link rel="stylesheet" href="register.css">
    <style>
        @font-face {
            font-family: 'newfont';
            src:url("时尚中黑简体.ttf");
        }
        body{
            font-family: 'newfont';
        }
    </style>
</head>
<body>
<div id="bg">
<div id="header">
    <div id="logo">

    </div>
    <span>注册成为极光二手车的一员</span>
    <ul id="login">
        <li><a  class="link_nav" href="javascript:;">直接登录</a></li>
        <li><a  class="link_nav" href="javascript:;">已有账号？</a></li>

    </ul>
</div>
<div id="content">

    <div id="register_box">
        <form>
             <table id="info">
                 <tr>
                     <td><span>* 用户名:</span></td>
                     <td>
                         <input id="userName"class="info_input" type="text" placeholder="请输入用户名">
                     </td>
                 </tr>
                 <tr>
                     <td>* 密码:</td>
                     <td>
                         <div>
                         <input id="passWord" class="info_input" type="password" placeholder="请输入密码">
                         <ul id="level">
                             <li id="level_easy">弱</li>
                             <li id="level_medium">中</li>
                             <li id="level_hard">强</li>
                         </ul>
                         </div>
                     </td>
                 </tr>
                 <tr>
                     <td>* 手机号:</td>
                     <td>
                         <div id="tel_div">
                         <input id="phone" class="info_input" type="tel" placeholder="请输入手机号">
                         <br><span>港澳台及海外用户，<a href="javascript:;">点击这里</a></span>
                         </div>
                     </td>
                 </tr>
                 <tr>
                     <td>* 验证码:</td>
                     <td>
                         <div id="code_iv">
                         <button class="info_input"id="code_btn" type="button">免费获取验证码</button>
                         <input id="verifiedCode" class="info_input" type="text" placeholder="请输入6位验证码">
                         <br><span>验证码24小时内有效</span>
                         </div>
                     </td>
                 </tr>
                 <tr>
                     <td>* 性别:</td>
                     <td>
                         <input class="info_input" type="radio" name="sex" id="man_radio">男
                         <input class="info_input" type="radio" name="sex" id="woman_radio">女
                     </td>
                 </tr>

             </table>
            <div id="confirm">
                <input id="confirm_btn"type="button" value="同意协议并加入极光">
                <br>
                <a href="javascript:;" id="contract">《极光二手车服务协议书》</a>
            </div>
        </form>
    </div>
</div>

</div>
<div id="userNameCorrect"><img src='images/infoCorrect.png'>用户名可用</div>
<div id="userNameWrong"><img src='images/infoWrong.png'>用户名已存在</div>

<script>
    var http = null;//AJAX异步请求变量
    document.getElementById("userName").onblur = function(){
        var userName = document.getElementById("userName").value;
        if(window.ActiveXObject){//低版本IE浏览器
            http = new window.ActiveXObject("Microsoft.XMLHTTP");
        }
        else{//其他主流浏览器
            http = new XMLHttpRequest();
        }
        var url = "http://192.168.1.33/lee/0809/register.php?userName="+userName;//请求地址

        http.open("get",url,true);//建立连接
//        http.setRequestHeader("","");//设置APIkey
        http.send(null);//发送请求
        http.onreadystatechange = showInfo; //设置回调函数
    }

    function showInfo(){
        var tips = document.createElement("div");
        if(http.readyState == 4 && http.status == 200){
            var result = http.response;
            if(result =="yes"){
                document.getElementById("userNameCorrect").style.display = "block";
                document.getElementById("userNameWrong").style.display = "none";
            }
            else{
                document.getElementById("userNameCorrect").style.display = "none";
                document.getElementById("userNameWrong").style.display = "block";
            }
        }
    }



</script>
</body>
</html>